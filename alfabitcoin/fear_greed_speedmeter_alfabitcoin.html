<!DOCTYPE html>
<html>
<head>
    <title>Indicador de Miedo y Avaricia de Cripto</title>

    <script async src="https://www.googletagmanager.com/gtag/js?id=G-ZR3ZFTF2FK"></script> 
    <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-ZR3ZFTF2FK'); </script>

    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/highcharts-more.js"></script>
    <script src="https://code.highcharts.com/modules/accessibility.js"></script>

    <link href="https://charts.bgeometrics.com/assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link rel="shortcut icon" href="isotipo-alfaBitcoin.png" />

</head>
<body style="background-color: #0D0D0D;">
    <div class="col-lg-12">
        <div class="row">
            <div class="col-lg-6 col-md-6 col-sm-3">
                <div id="container">
                </div>
            </div>
            <div class="col-lg-6 col-md-6 col-sm-3">
                <div>
                    <p class="highcharts-description" style="background-color: #FFFFFF;">Texto</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        (async () => {
            fear_greed_today = 0;
            fear_greed_yesterday = 0;
            fear_greed_week = 0;
            fear_greed_date = "";

            await fetch('https://charts.bgeometrics.com/files/fear_greed_data.json')  
                .then(response => response.json())
                .then(fear_greed_data => {
                    fear_greed_today = fear_greed_data.today;
                    fear_greed_yesterday = fear_greed_data.yesterday;
                    fear_greed_week = fear_greed_data.week;
                    fear_greed_date = fear_greed_data.date;
            });
        
        Highcharts.chart('container', {
            chart: {
                type: 'gauge',
                plotBackgroundColor: '#0D0D0D',
                plotBackgroundImage: '#0D0D0D',
                //plotBorderWidth: 0,
                plotShadow: false,
                //height: '70%'
                backgroundColor: '#0D0D0D' 
            },

            title: {
                text: 'Indicador de Miedo y Avaricia de Cripto',
                align: 'left',
                style: {
                    color: '#FFFFFF', 
                }
            },
            subtitle: {
                text: 'Última actualización: ' + fear_greed_date,
                align: 'left',
                style: {
                    color: '#999999', 
                }
            },

            pane: {
                startAngle: -90,
                endAngle: 89.9,
                background: null,
                //center: ['50%', '75%'],
                //size: '90%'
            },

            yAxis: {
                min: 0,
                max: 100,
                //tickPixelInterval: 0,
                //tickPosition: 'inside',
                //minorTickInterval: null,
                //minorTickInterval: 'auto',
                //minorTickWidth: 1,
                //minorTickLength: 10,

                tickColor: '#FFFFFF',
                tickPixelInterval: 0,
                tickWidth: 0,
                tickLength: 0,
                tickPosition: 'side',
                minorTickPosition: 'inside',
                minorTickColor: '#999999',

                labels: {
                    distance: -65,
                    style: {
                        fontSize: '14px'
                    }
                },
                lineWidth: 0,
                plotBands: [{
                    from: 0,
                    to: 25,
                    color: '#F02935', 
                    thickness: 45,
                    //borderRadius: '50%'
                }, {
                    from: 26,
                    to: 50,
                    color: '#F07D29', 
                    thickness: 45,
                }, {
                    from: 51,
                    to: 75,
                    color: '#9ACB82', 
                    thickness: 45
                }, {
                    from: 76,
                    to: 100,
                    color: '#34B349', 
                    thickness: 45
                }]
            },

            series: [{
                name: 'Miedo y Avaricia',
                data: [fear_greed_today],
                tooltip: {
                    valueSuffix: ''
                },

                dataLabels: {
                    //format: '{y}',  
                    //format: '<img src="https://static.coinstats.app/coins/1650455588819.png" alt="Coin Logo" class="jsx-239148687">',  
                    //format: '<div class="jsx-239148687 chart-coin-logo"><img src="https://static.coinstats.app/coins/1650455588819.png" alt="Coin Logo" class="jsx-239148687"></div>'
                    format: '<div style="text-align:center"><img src="https://static.coinstats.app/coins/1650455588819.png"><br/><span style="font-size:12px;opacity:0.4">km/h</span></div>',
            y: -40
        ,
                    borderWidth: 0,
                    style: {
                        //color: '#777',
                        color: 'white',
                        fontSize: '16px',
                        fontWeight: 'bold'
                    },
                },

                dial: {
                    radius: '50%',
                    backgroundColor: 'gray',
                    baseWidth: 12,
                    baseLength: '0%',
                    rearLength: '0%'
                },
                pivot: {
                    backgroundColor: '#262626',
                    radius: 6
                }, 

            }],
            credits: {
                text: 'Power by BGeometrics.com',
                href: 'https://charts.bgeometrics.com',
                style: {
                    font: '11px sans-serif, Verdana, "Trebuchet MS"'
                },
                position: {
                    align: 'right',
                    y: -100
                }                
            },

        });

    })();

    </script>

</body>
</html>
