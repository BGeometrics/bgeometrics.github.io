<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>BGeometrics</title>
  <meta content="Bitcoin Price" name="description">
  <meta content="__keywords__" name="keywords">

  <!-- Favicons -->
  <link href="assets/img/favicon.png" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.gstatic.com" rel="preconnect">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Nunito:300,300i,400,400i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" media="print" onload="this.onload=null;this.removeAttribute('media');" fetchpriority="high">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/css/style.css" rel="stylesheet">
  <link href="assets/css/bgeometrics.css" rel="stylesheet">

  <!-- Google tag (gtag.js) --> 
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-ZR3ZFTF2FK"></script> 
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-ZR3ZFTF2FK'); 
  </script>

</head>

<body>
  <!-- ======= Header ======= -->
  <header id="header" class="header fixed-top d-flex align-items-center">

    <div class="d-flex align-items-center justify-content-between">
      <a href="index.html" class="logo d-flex align-items-center" style="text-decoration: none;">
        <img src="assets/img/logo.png" alt="BGeometrics">
        <span class="d-none d-lg-block">BGeometrics</span>
      </a>
      <i class="bi bi-list toggle-sidebar-btn"></i>
    </div><!-- End Logo -->

    <div class="search-bar">
      <form class="search-form d-flex align-items-center" method="POST" action="#">
        <input type="text" class="form-control" id="searchInput" placeholder="Search" title="Enter search keyword" onkeydown="handleKeyPress(event)">
        <button class="btn btn-outline-secondary" type="button" onclick="search()"><i class="bi bi-search"></i></button>
      </form>
    </div><!-- End Search Bar -->

    <nav class="header-nav ms-auto">
      <ul class="d-flex align-items-center">

        <li class="nav-item d-block d-lg-none">
          <a class="nav-link nav-icon search-bar-toggle " href="#">
            <i class="bi bi-search"></i>
          </a>
        </li><!-- End Search Icon-->

        <li class="nav-item dropdown"></li>
          <a href="https://bitcoin-data.com/bguser/pricing" id="pricing" class="nav-link nav-icon" alt="Pricing API" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Pricing API BGeometrics">
            <span style="font-size: 0.6em;">Pricing</span>
          </a>
        </li>

        <li class="nav-item dropdown">
          <a href="bg_alert_modal.html" id="openModalLink" class="nav-link nav-icon" alt="BGeometrics Alerts">
	    <i class="bi bi-bell"></i>
          </a>
        </li>

        <li class="nav-item dropdown">
          <a class="nav-link nav-icon" href="workspace.html" alt="BGeometrics Workspace">
	    <i class="bi bi-person-workspace"></i>
          </a>
        </li>

	<li>
          <div class="dropdown d-inline language-switcher">
            <button class="btn btn-light dropdown-toggle" type="button" id="modeDropdown" data-bs-toggle="dropdown" aria-expanded="false">
              <i class="flag-united-kingdom flag m-0"></i>
            </button>
            <ul class="dropdown-menu" aria-labelledby="modeDropdown">
              <li>
                <a class="dropdown-item" href="index.html">
                  English
                </a>
              </li>
              <li>
                <a class="dropdown-item" href="es/index.html">
                  Spanish
                </a>
              </li>
            </ul>
          </div>
        </li>
        <li>
          &nbsp;&nbsp;&nbsp;&nbsp;
        </li>

	<li>
          <div class="dropdown d-inline language-switcher">
            <button class="btn btn-light dropdown-toggle" type="button" id="modeDropdown" data-bs-toggle="dropdown" aria-expanded="false">
              <span id="currentMode">Light</span>
            </button>
            <ul class="dropdown-menu" aria-labelledby="modeDropdown">
              <li>
		<a class="dropdown-item" href="javascript:void(0)" onclick="switchMode('light')">
		  Light
	        </a>
	      </li>
              <li>
		<a class="dropdown-item" href="javascript:void(0)" onclick="switchMode('dark')">
                  Dark
                </a>
	      </li>
            </ul>
          </div>
        </li>
        <li>
          &nbsp;&nbsp;&nbsp;&nbsp;
        </li>

        <li class="nav-item dropdown">
          <a class="nav-link nav-icon" href="https://x.com/BGeometrics">
            <i class="bi bi-twitter-x"></i>
          </a>
        </li>
        <li>
          <a class="nav-link nav-icon" href="https://bitcoin-data.com/bguser/login" target="_blank">
            <i class="bi bi-person"></i>
          </a>
        </li>    

      </ul>

    </nav><!-- End Icons Navigation -->

  </header><!-- End Header -->

  <!-- ======= Sidebar ======= -->
  <aside id="sidebar" class="sidebar">

    <ul class="sidebar-nav" id="sidebar-nav">

      <li class="nav-item">
        <a class="nav-link collapsed" data-bs-target="#dashboard-nav" data-bs-toggle="collapse" href="#">
          <i class="bi bi-bar-chart"></i><span>Dashboards</span><i class="bi bi-chevron-down ms-auto"></i>
        </a>
        <ul id="dashboard-nav" class="nav-content collapse" data-bs-parent="#sidebar-nav">
          <li>
            <a href="ohlc_dashboard.html">
              <i class="bi bi-circle"></i><span>BTC OHLC</span>
	    </a>
          </li>
        </ul>
        <ul id="dashboard-nav" class="nav-content collapse" data-bs-parent="#sidebar-nav">
          <li>
            <a href="dashboard_short_term_trend.html">
              <i class="bi bi-circle"></i><span>BTC Short Term Trend</span>
	    </a>
          </li>
        </ul>
        <ul id="dashboard-nav" class="nav-content collapse" data-bs-parent="#sidebar-nav">
          <li>
            <a href="dashboard_demand.html">
              <i class="bi bi-circle"></i><span>BTC Demand</span>
	    </a>
          </li>
        </ul>
        <ul id="dashboard-nav" class="nav-content collapse" data-bs-parent="#sidebar-nav">
          <li>
            <a href="miner_dashboard.html">
              <i class="bi bi-circle"></i><span>BTC Miner</span>
	    </a>
          </li>
        </ul>
        <ul id="dashboard-nav" class="nav-content collapse" data-bs-parent="#sidebar-nav">
          <li>
            <a href="dashboard_trend.html">
              <i class="bi bi-circle"></i><span>BTC Trend</span>
	    </a>
          </li>
        </ul>
        <ul id="dashboard-nav" class="nav-content collapse" data-bs-parent="#sidebar-nav">
          <li>
            <a href="dashboard_market_peaks.html">
              <i class="bi bi-circle"></i><span>BTC Market Peaks</span>
	    </a>
          </li>
        </ul>
        <ul id="dashboard-nav" class="nav-content collapse" data-bs-parent="#sidebar-nav">
          <li>
            <a href="dashboard_market_floors.html">
              <i class="bi bi-circle"></i><span>BTC Market Bottoms</span>
	    </a>
          </li>
        </ul>
        <ul id="dashboard-nav" class="nav-content collapse" data-bs-parent="#sidebar-nav">
          <li>
            <a href="dashboard_workspace.html">
              <i class="bi bi-circle"></i><span>BTC Workspaces</span>
	    </a>
          </li>
        </ul>
        <ul id="dashboard-nav" class="nav-content collapse" data-bs-parent="#sidebar-nav">
          <li>
            <a href="dashboard_workspace_400.html">
              <i class="bi bi-circle"></i><span>BTC Workspaces 8</span>
	    </a>
          </li>
        </ul>
      </li>

      <li class="nav-item">
        <a class="nav-link collapsed" data-bs-target="#components-nav" data-bs-toggle="collapse" href="#">
          <i class="bi bi-menu-button-wide"></i><span>Price</span><i class="bi bi-chevron-down ms-auto"></i>
        </a>
        <ul id="components-nav" class="nav-content collapse" data-bs-parent="#sidebar-nav">
          <li>
            <a href="btc_price.html">
              <i class="bi bi-circle"></i><span>Bitcoin Price (1h)</span>
            </a>
          </li>
          <li>
            <a href="bitcoin_price_usd_g.html">
              <i class="bi bi-circle"></i><span>Bitcoin Price</span>
            </a>
          </li>
          <li>
            <a href="ohlc.html">
              <i class="bi bi-circle"></i><span>OHLC</span>
            </a>
          </li>
          <li>
            <a href="ohlc_7d.html">
              <i class="bi bi-circle"></i><span>OHLC Week</span>
            </a>
          </li>
          <li>
            <a href="ohlc_4h.html">
              <i class="bi bi-circle"></i><span>OHLC 4 Hours</span>
            </a>
          </li>
          <li>
            <a href="ohlc_1m.html">
              <i class="bi bi-circle"></i><span>Price Live</span>
            </a>
          </li>
          <li>
            <a href="moving_average.html">
              <i class="bi bi-circle"></i><span>BTC Moving Average</span>
            </a>
          </li>
          <li>
            <a href="capitalization.html">
              <i class="bi bi-circle"></i><span>BTC Capitalization</span>
            </a>
          </li>
          <li>
            <a href="bitcoin_price_usd_day_g.html">
              <i class="bi bi-circle"></i><span>BTC Price a day like</span>
            </a>
          </li>
          <li>
            <a href="pi_cycle.html">
              <i class="bi bi-circle"></i><span>Pi Cycle</span>
            </a>
          </li>
        </ul>
      </li>

      <li class="nav-item">
        <a class="nav-link collapsed" data-bs-target="#market-nav" data-bs-toggle="collapse" href="#">
          <i class="bi bi-layout-text-window-reverse"></i><span>Market</span><i class="bi bi-chevron-down ms-auto"></i>
        </a>
        <ul id="market-nav" class="nav-content collapse" data-bs-parent="#sidebar-nav">
          <li>
            <a href="realized_price_g.html">
              <i class="bi bi-circle"></i><span>Realized and Delta Price</span>
            </a>
          </li>
          <li>
            <a href="hodl_waves_10.html">
              <i class="bi bi-circle"></i><span>Hodl Waves</span>
            </a>
          </li>
          <li>
            <a href="hodl_waves_realized_cap.html">
              <i class="bi bi-circle"></i><span>Hodl Waves Realized Cap</span>
            </a>
          </li>
          <li>
            <a href="hodl_waves_supply.html">
              <i class="bi bi-circle"></i><span>Hodl Waves Supply</span>
            </a>
          </li>
          <li>
            <a href="nupl.html">
              <i class="bi bi-circle"></i><span>NUPL</span>
            </a>
          </li>
          <li>
            <a href="nrpl.html">
              <i class="bi bi-circle"></i><span>NRPL</span>
            </a>
          </li>
          <li>
            <a href="sth_realized_price.html">
              <i class="bi bi-circle"></i><span>Realized Price STH</span>
            </a>
          </li>
          <li>
            <a href="lth_realized_price.html">
              <i class="bi bi-circle"></i><span>Realized Price LTH</span>
            </a>
          </li>
          <li>
            <a href="sopr.html">
              <i class="bi bi-circle"></i><span>SOPR</span>
            </a>
          </li>
          <li>
            <a href="sth_sopr.html">
              <i class="bi bi-circle"></i><span>SOPR STH</span>
            </a>
          </li>
          <li>
            <a href="lth_sopr.html">
              <i class="bi bi-circle"></i><span>SOPR LTH</span>
            </a>
          </li>
          <li>
            <a href="mvrv.html">
              <i class="bi bi-circle"></i><span>MVRV Z-Score</span>
            </a>
          </li>
          <li>
            <a href="mvrv_ratio.html">
              <i class="bi bi-circle"></i><span>MVRV Ratio</span>
            </a>
          </li>
          <li>
            <a href="sth_mvrv.html">
              <i class="bi bi-circle"></i><span>MVRV STH</span>
            </a>
          </li>
          <li>
            <a href="lth_mvrv.html">
              <i class="bi bi-circle"></i><span>MVRV LTH</span>
            </a>
          </li>
          <li>
            <a href="distribution_realized_price.html">
              <i class="bi bi-circle"></i><span>Realized Price Distribution</span>
            </a>
          </li>
          <li>
            <a href="aviv.html">
              <i class="bi bi-circle"></i><span>AVIV Ratio</span>
            </a>
          </li>
          <li>
            <a href="nvts_bg.html">
              <i class="bi bi-circle"></i><span>Dynamic Range NVT</span>
            </a>
          </li>
          <li>
            <a href="cdd.html">
              <i class="bi bi-circle"></i><span>Coins Days Destroyed</span>
            </a>
          </li>
          <li>
            <a href="bitcoin_cdd_ajusted_90dma_g.html">
              <i class="bi bi-circle"></i><span>CDD Ajusted 90dma</span>
            </a>
          </li>
          <li>
            <a href="vdd.html">
              <i class="bi bi-circle"></i><span>VDD Multiple</span>
            </a>
          </li>
          <li>
            <a href="realized_profit_loss_ratio.html">
              <i class="bi bi-circle"></i><span>Realized Profit Loss Ratio</span>
            </a>
          </li>
          <li>
            <a href="realized_profit_loss_lth_sth.html">
              <i class="bi bi-circle"></i><span>Realized Profit Loss LTH STH</span>
            </a>
          </li>
          <li>
            <a href="bitcoin_liveliness_g.html">
              <i class="bi bi-circle"></i><span>Bitcoin Liveliness</span>
            </a>
          </li>
          <li>
            <a href="supply_in_profit.html">
              <i class="bi bi-circle"></i><span>Supply in Profit Loss</span>
            </a>
          </li>
          <li>
            <a href="supply_lth_sth.html">
              <i class="bi bi-circle"></i><span>Supply LTH STH</span>
            </a>
          </li>
          <li>
            <a href="reserve_risk.html">
              <i class="bi bi-circle"></i><span>Reserve Risk</span>
            </a>
          </li>
          <li>
            <a href="rhodl_1m.html">
              <i class="bi bi-circle"></i><span>RHodl 1m</span>
            </a>
          </li>
        </ul>
      </li>

      <li class="nav-item">
        <a class="nav-link collapsed" data-bs-target="#address-nav" data-bs-toggle="collapse" href="#">
          <i class="bi bi-layout-text-window-reverse"></i><span>Address</span><i class="bi bi-chevron-down ms-auto"></i>
        </a>
        <ul id="address-nav" class="nav-content collapse" data-bs-parent="#sidebar-nav">
          <li>
            <a href="address_active.html">
              <i class="bi bi-circle"></i><span>Active Addresses</span>
            </a>
          </li>
          <li>
            <a href="bitcoin_distribution_coins_tables.html">
              <i class="bi bi-circle"></i><span>BTC Coins Distribution</span>
            </a>
          </li>
          <li>
            <a href="bitcoin_distribution_addr_tables.html">
              <i class="bi bi-circle"></i><span>BTC Addresses Distribution</span>
            </a>
          </li>
          <li>
            <a href="bitcoin_distribution_coin_g.html">
              <i class="bi bi-circle"></i><span>Coins</span>
            </a>
          </li>
          <li>
            <a href="distribution_coin_humpback.html">
              <i class="bi bi-circle"></i><span>Coins Humpback > 10K BTC</span>
            </a>
          </li>
          <li>
            <a href="distribution_coin_whale.html">
              <i class="bi bi-circle"></i><span>Coins Whale 1K - 10K BTC</span>
            </a>
          </li>
          <li>
            <a href="distribution_coin_shark.html">
              <i class="bi bi-circle"></i><span>Coins Shark 100 - 1K BTC</span>
            </a>
          </li>
          <li>
            <a href="distribution_coin_fish.html">
              <i class="bi bi-circle"></i><span>Coins Fish 10 - 100 BTC</span>
            </a>
          </li>
          <li>
            <a href="distribution_coin_crab.html">
              <i class="bi bi-circle"></i><span>Coins Crab 1 - 10 BTC</span>
            </a>
          </li>
          <li>
            <a href="distribution_coin_shrimp.html">
              <i class="bi bi-circle"></i><span>Coins Shrimp < 1 BTC</span>
            </a>
          </li>
          <li>
            <a href="reports/bitcoin_distribution_addr_g_humpback.html">
              <i class="bi bi-circle"></i><span>Addr Humpback > 10K BTC</span>
            </a>
          </li>
          <li>
            <a href="distribution_addr_whale.html">
              <i class="bi bi-circle"></i><span>Addr Whale 1K - 10K BTC</span>
            </a>
          </li>
          <li>
            <a href="reports/bitcoin_distribution_addr_g_shark.html">
              <i class="bi bi-circle"></i><span>Addr Shark 100 - 1K BTC</span>
            </a>
          </li>
          <li>
            <a href="reports/bitcoin_distribution_addr_g_fish.html">
              <i class="bi bi-circle"></i><span>Addr Fish 10 - 100 BTC</span>
            </a>
          </li>
          <li>
            <a href="reports/bitcoin_distribution_addr_g_crab.html">
              <i class="bi bi-circle"></i><span>Addr Crab 1 - 10 BTC</span>
            </a>
          </li>
          <li>
            <a href="reports/bitcoin_distribution_addr_g_shrimp.html">
              <i class="bi bi-circle"></i><span>Addr Shrimp < 1 BTC</span>
            </a>
          </li>
          <li>
            <a href="reports/bitcoin_whale_accumulation_heatmap_g.html">
              <i class="bi bi-circle"></i><span>Whale Accumulation Heat Map</span>
            </a>
          </li>
          <li>
            <a href="reports/bitcoin_whale_30d_sum_g.html">
              <i class="bi bi-circle"></i><span>Whale Net Position BTC 30 days</span>
            </a>
          </li>
          <li>
            <a href="reports/bitcoin_shark_30d_sum_g.html">
              <i class="bi bi-circle"></i><span>Shark Net Position BTC 30 days</span>
            </a>
          </li>
          <li>
            <a href="reports/bitcoin_shrimp_30d_sum_g.html">
              <i class="bi bi-circle"></i><span>Shrimp Net Position BTC 30 days</span>
            </a>
          </li>
          <li>
            <a href="reports/bitcoin_distribution_coin_pie_g.html">
              <i class="bi bi-circle"></i><span>Distribution two years</span>
            </a>
          </li>
        </ul>
      </li><!-- End Tables Nav -->

      <li class="nav-item">
        <a class="nav-link collapsed" data-bs-target="#miners-nav" data-bs-toggle="collapse" href="#">
          <i class="bi bi-bar-chart"></i><span>Miners</span><i class="bi bi-chevron-down ms-auto"></i>
        </a>
        <ul id="miners-nav" class="nav-content collapse" data-bs-parent="#sidebar-nav">
          <li>
            <a href="puell_multiple.html">
              <i class="bi bi-circle"></i><span>Puell Multiple</span>
            </a>
          </li>
          <li>
            <a href="hashrate.html">
              <i class="bi bi-circle"></i><span>Bitcoin Hashrate</span>
            </a>
          </li>
          <li>
            <a href="hashprice.html">
              <i class="bi bi-circle"></i><span>Bitcoin Hashprice</span>
            </a>
          </li>
          <li>
            <a href="hashribbons.html">
              <i class="bi bi-circle"></i><span>Bitcoin Hashribbons</span>
            </a>
          </li>
          <li>
            <a href="miner_reserves.html">
              <i class="bi bi-circle"></i><span>Miner Reserves</span>
            </a>
          </li>
          <li>
            <a href="miner_sell_pressure.html">
              <i class="bi bi-circle"></i><span>Miner Sell Pressure</span>
            </a>
          </li>
          <li>
            <a href="miner_outflow.html">
              <i class="bi bi-circle"></i><span>Miner Outflow</span>
            </a>
          </li>
        </ul>
      </li>

      <li class="nav-item">
        <a class="nav-link collapsed" data-bs-target="#charts-nav" data-bs-toggle="collapse" href="#">
          <i class="bi bi-bar-chart"></i><span>Others charts</span><i class="bi bi-chevron-down ms-auto"></i>
        </a>
        <ul id="charts-nav" class="nav-content collapse" data-bs-parent="#sidebar-nav">
          <li>
            <a href="etf.html">
	      <i class="bi bi-circle"></i><span>ETF Total Balance</span>
            </a>
          </li>
          <li>
            <a href="etf_btc.html">
	      <i class="bi bi-circle"></i><span>ETF BTC Held</span>
            </a>
          </li>
          <li>
            <a href="stablecoin_supply.html">
              <i class="bi bi-circle"></i><span>Stablecoin supply</span>
            </a>
          </li>
          <li>
            <a href="fear_greed.html">
              <i class="bi bi-circle"></i><span>Fear and Greed</span>
            </a>
          </li>
          <li>
            <a href="bitcoin_fear_greed_img.html">
              <i class="bi bi-circle"></i><span>Fear and Greed index color</span>
            </a>
          </li>
          <li>
            <a href="bitcoin_volatility_g.html">
              <i class="bi bi-circle"></i><span>BTC Volatility</span>
            </a>
          </li>
          <li>
            <a href="bitcoin_dominance_g.html">
              <i class="bi bi-circle"></i><span>BTC Dominance</span>
            </a>
          </li>
          <li>
            <a href="open_interest_futures.html">
              <i class="bi bi-circle"></i><span>Open Interest Futures</span>
            </a>
          </li>
          <li>
            <a href="funding_rate.html">
              <i class="bi bi-circle"></i><span>Funding Rate</span>
            </a>
          </li>
          <li>
            <a href="power_law.html">
              <i class="bi bi-circle"></i><span>BTC Power Law</span>
            </a>
          </li>
          <li>
            <a href="terminal_price.html">
              <i class="bi bi-circle"></i><span>Terminal Price</span>
            </a>
          </li>
          <li>
            <a href="choppiness.html">
              <i class="bi bi-circle"></i><span>Choppiness Index</span>
            </a>
          </li>
          <li>
            <a href="google_trends.html">
              <i class="bi bi-circle"></i><span>Google Trends</span>
            </a>
          </li>
          <li>
            <a href="montecarlo_100.html">
              <i class="bi bi-circle"></i><span>Montecarlo next 100 days</span>
            </a>
          </li>
          <li>
            <a href="montecarlo_365.html">
              <i class="bi bi-circle"></i><span>Montecarlo last 365 days</span>
            </a>
          </li>
        </ul>
      </li>

      <li class="nav-item">
        <a class="nav-link collapsed" data-bs-target="#forms-nav" data-bs-toggle="collapse" href="#">
          <i class="bi bi-journal-text"></i><span>Halving</span><i class="bi bi-chevron-down ms-auto"></i>
        </a>
        <ul id="forms-nav" class="nav-content collapse" data-bs-parent="#sidebar-nav">
          <li>
            <a href="bitcoin_price_g_log.html">
              <i class="bi bi-circle"></i><span>BTC Price Log</span>
            </a>
          </li>
          <li>
            <a href="bitcoin_halving_radar_g.html">
              <i class="bi bi-circle"></i><span>Bitcoin Halving Radar </span>
            </a>
          </li>
          <li>
            <a href="bitcoin_year_candle_g.html">
              <i class="bi bi-circle"></i><span>Candles Yearly</span>
            </a>
          </li>
          <li>
            <a href="bitcoin_halving_month_g.html">
              <i class="bi bi-circle"></i><span>Halving Month</span>
            </a>
          </li>
          <li>
            <a href="bitcoin_halving_cycle_g.html">
              <i class="bi bi-circle"></i><span>Halving Cycle</span>
            </a>
          </li>
        </ul>
      </li>

      <li class="nav-item">
        <a class="nav-link collapsed" data-bs-target="#macro-nav" data-bs-toggle="collapse" href="#">
          <i class="bi bi-bar-chart"></i><span>Macro</span><i class="bi bi-chevron-down ms-auto"></i>
        </a>
        <ul id="macro-nav" class="nav-content collapse" data-bs-parent="#sidebar-nav">
          <li>
            <a href="workspace_stocks.html">
              <i class="bi bi-circle"></i><span>BTC vs any companies</span>
            </a>
          </li>
          <li>
            <a href="workspace_crypto.html">
              <i class="bi bi-circle"></i><span>BTC vs Crypto</span>
            </a>
          </li>
          <li>
            <a href="sp500_gold.html">
              <i class="bi bi-circle"></i><span>SP500, Gold, Tesla, MSTR</span>
            </a>
          </li>
          <li>
            <a href="m2_global.html">
              <i class="bi bi-circle"></i><span>M2 Growth Global YoY</span>
            </a>
          </li>
          <li>
            <a href="m2_btc.html">
              <i class="bi bi-circle"></i><span>M2 money stock central bank</span>
            </a>
          </li>
          <li>
            <a href="m2_global_10w.html">
              <i class="bi bi-circle"></i><span>M2 10-weeks lead</span>
            </a>
          </li>
          <li>
            <a href="m2.html">
              <i class="bi bi-circle"></i><span>M2 Money Stock (FRED)</span>
            </a>
          </li>
          <li>
            <a href="fedfunds.html">
              <i class="bi bi-circle"></i><span>Fed Funds</span>
            </a>
          </li>
	</ul>  
      </li>

      <li class="nav-item">
        <a class="nav-link collapsed" data-bs-target="#tools-nav" data-bs-toggle="collapse" href="#">
          <i class="bi bi-tools"></i><span>Tools</span><i class="bi bi-chevron-down ms-auto"></i>
        </a>
        <ul id="tools-nav" class="nav-content collapse" data-bs-parent="#sidebar-nav">
          <li>
            <a href="dca.html">
              <i class="bi bi-circle"></i><span>DCA Calculator</span>
            </a>
          </li>
          <li>
            <a href="https://charts.bgeometrics.com/workspace_stocks.html" target="_blank">
              <i class="bi bi-circle"></i><span>BTC and Stocks</span>
            </a>
          </li>
          <li>
            <a href="https://charts.bgeometrics.com/workspace_crypto.html" target="_blank">
              <i class="bi bi-circle"></i><span>BTC and Cryptos</span>
            </a>
          </li>
          <li>
            <a href="https://charts.bgeometrics.com/bitcoin_monthly_history.html" target="_blank">
              <i class="bi bi-circle"></i><span>BTC Monthly Returns</span>
            </a>
          </li>
	</ul>  
      </li>

      <li class="nav-heading">Pages</li>

      <li class="nav-item">
        <a class="nav-link collapsed" href="workspace.html">
	  <i class="bi bi-person-workspace"></i>
          <span>Workspace</span>
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link collapsed" href="services.html">
          <i class="bi bi-person"></i>
          <span>Services</span>
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link collapsed" href="bitcoin_api.html">
          <i class="bi bi-arrow-right"></i>
          <span>Bitcoin API Free</span>
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link collapsed" href="bg_suggestion.html">
          <i class="bi bi-envelope"></i>
          <span>Suggestions</span>
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link collapsed" href="pages-links.html">
          <i class="bi bi-arrow-right-short"></i>
          <span>Resources</span>
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link collapsed" href="pages-contact.html">
          <i class="bi bi-chat-quote"></i>
          <span>Contact</span>
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link collapsed" href="https://bitcoin-data.com/bguser/pricing">
	  <i class="bi bi-currency-bitcoin"></i>
          <span>Pricing</span>
        </a>
      </li>

    </ul>

  </aside><!-- End Sidebar-->

  <main id="main" class="main">

    <div id="notification" class="alert alert-info p-2 py-1" style="font-size: 0.85em; margin: -10px auto 0 auto;background-color: #f5f5f5; border: 1px solid #ddd; color: #333;">New API endpoints for <a href="https://bitcoin-data.com/api/swagger-ui/index.html">Bitcoin derivatives</a>, Basis, Open Interest, Funding Rate, Futures Global and Taker and export CSV</div>
  

    <div class="row">
      <div id="searchResults"></div>
    </div>

    <section class="section">
      <div class="container mt-5">
        <h1 class="text-center">Alerts Management</h1>

        <div class="card mb-4">
            <div class="card-header">
                <h5 id="formTitle">Create Alert (only 4 alerts Standard user)</h5>
            </div>
            <div class="card-body">
                <form id="alertForm">
                    <input type="hidden" id="alertId">
                    <div class="mb-3">
                        <label for="condition" class="form-label">Condition</label>
                        <select id="condition" class="form-select" required>
                            <option value="" selected>Choose here</option>
                            <option value=">=">>=</option>
                            <option value="<="><=</option>
                            <option value="=">=</option>
                            <option value="BTC crosses below">Metric (price) crossing below BTC price</option>
                            <option value="BTC crosses above">Metric (price) crossing above BTC price</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="value" class="form-label">Value</label>
                        <input type="number" id="value" class="form-control" placeholder="Enter value" required>
                    </div>
                    <div class="mb-3">
                        <label for="metricId" class="form-label">Metric</label>
                        <select id="metricId" class="form-select" required>
                            <!-- Options dynamically populated -->
                        </select>
                    </div>
                    <button type="button" class="btn btn-primary" onclick="saveAlert()">Save Alert</button>
                    <button type="button" class="btn btn-secondary" onclick="resetForm()">Cancel</button>
                </form>
            </div>
        </div>

        <div class="card">
            <div class="card-header">
                <h5>Alerts List</h5>
            </div>
            <div class="card-body">
                <table class="table table-bordered">
                    <thead>
                        <tr>
                            <th>#</th>
                            <th>Condition</th>
                            <th>Value</th>
                            <th>Metric</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="alertsTable">
                        <!-- Dynamic content here -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.all.min.js"></script>

    <script>

        const urlParams = new URLSearchParams(window.location.search);
        const theEmail = urlParams.get('email');
        const apiUrl = 'https://bitcoin-data.com/suggestion/api/alerts'; // Replace with your API URL
        const metricsApiUrl = 'https://bitcoin-data.com/suggestion/api/metrics'; // Replace with your API URL

        async function fetchMetrics() {
            try {
                const response = await fetch(metricsApiUrl);
                const metrics = await response.json();
                //console.log(metrics);
                const metricSelect = document.getElementById('metricId');
                metricSelect.innerHTML = '';
                metrics.forEach(metric => {
                    const option = `<option value="${metric.id}">${metric.metric}</option>`;
                    metricSelect.insertAdjacentHTML('beforeend', option);
                });
            } catch (error) {
                Swal.fire('Error', 'Failed to load metrics', 'error');
            }
        }

        async function fetchAlerts() {
            try {

                const response = await fetch(`https://bitcoin-data.com/suggestion/api/alerts/filter?email=${encodeURIComponent(theEmail)}`)
                const alerts = await response.json();
                //console.log(alerts);
                const tableBody = document.getElementById('alertsTable');
                tableBody.innerHTML = '';
                alerts.forEach((alert, index) => {
                    const row = `
                        <tr>
                            <td>${index + 1}</td>
                            <td>${alert.condition}</td>
                            <td>${alert.value}</td>
                            <td>${alert.metricName}</td>
                            <td>
                                <button class="btn btn-warning btn-sm" onclick="editAlert(${alert.id})">Edit</button>
                                <button class="btn btn-danger btn-sm" onclick="confirmDelete(${alert.id})">Delete</button>
                            </td>
                        </tr>
                    `;
                    tableBody.insertAdjacentHTML('beforeend', row);
                });
            } catch (error) {
                Swal.fire('Error', 'Failed to load alerts', 'error');
            }
        }

        async function saveAlert() {
            const alertId = document.getElementById('alertId').value;
            const condition = document.getElementById('condition').value;
            const value = document.getElementById('value').value;
            //const email = document.getElementById('email').value;
            const email = theEmail;
            //const dateEnd = document.getElementById('dateEnd').value;
            const dateEnd = null; 
            const metricId = document.getElementById('metricId').value;

            try {
                const method = alertId ? 'PUT' : 'POST';
                const url = alertId ? `${apiUrl}/${alertId}` : apiUrl;

                const response = await fetch(url, {
                    method: method,
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ condition, value, email, dateEnd: dateEnd, metricId: metricId }),
                });

                //console.log(response.text());
                //const errorMessage = await response.text();
                //console.log(errorMessage);

                if (response.ok) {
                    Swal.fire('Success', `Alert ${alertId ? 'updated' : 'created'} successfully`, 'success');
                    resetForm();
                    fetchAlerts();
                } else {
                    const errorMessage = await response.text();
                    if (errorMessage !== "") {
                        Swal.fire('Error', errorMessage, 'error');
                    }
                    else {
                        Swal.fire('Error', `Failed to ${alertId ? 'update' : 'create'} alert`, 'error');
                    }
                }
            } catch (error) {
                const errorMessage = await response.text();
                Swal.fire('Error', errorMessage, 'error');
            }
        }

        async function editAlert(id) {
            try {
                const response = await fetch(`${apiUrl}/${id}`);
                console.log(response);
                const alert = await response.json();
                console.log(alert);

                document.getElementById('alertId').value = alert.id;
                document.getElementById('condition').value = alert.condition;
                document.getElementById('value').value = alert.value;
                document.getElementById('metricId').value = alert.metricId;
                document.getElementById('formTitle').textContent = 'Edit Alert';
            } catch (error) {
                Swal.fire('Error', 'Failed to fetch alert data', 'error');
            }
        }

        function confirmDelete(id) {
            Swal.fire({
                title: 'Are you sure?',
                text: 'You will not be able to recover this alert!',
                icon: 'warning',
                showCancelButton: true,
                confirmButtonText: 'Yes, delete it!',
                cancelButtonText: 'No, cancel!',
            }).then(async (result) => {
                if (result.isConfirmed) {
                    deleteAlert(id);
                }
            });
        }

        async function deleteAlert(id) {
            try {
                const response = await fetch(`${apiUrl}/${id}`, { method: 'DELETE' });

                if (response.ok) {
                    Swal.fire('Deleted!', 'Alert has been deleted.', 'success');
                    fetchAlerts();
                } else {
                    Swal.fire('Error', 'Failed to delete alert', 'error');
                }
            } catch (error) {
                Swal.fire('Error', 'Failed to delete alert', 'error');
            }
        }

        function resetForm() {
            document.getElementById('alertForm').reset();
            document.getElementById('alertId').value = '';
            document.getElementById('formTitle').textContent = 'Create Alert';
        }

        const dropdown = document.getElementById('condition');
        const textBox = document.getElementById('value');

        dropdown.addEventListener('change', () => {
        if (dropdown.value === "BTC crosses below" || dropdown.value === "BTC crosses above") {
            textBox.disabled = true; // Disable the text box
        } else {
            textBox.disabled = false; // Enable the text box
        }
        });

        fetchMetrics();
        fetchAlerts();

    </script>
</body>
</html>

